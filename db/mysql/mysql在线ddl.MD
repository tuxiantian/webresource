# mysql在线ddl

mysql在线ddl(加字段、加索引等修改表结构之类的操作）过程如下：

A.对表加锁(表此时只读)
B.复制原表物理结构
C.修改表的物理结构
D.把原表数据导入中间表中，数据同步完后，锁定中间表，并删除原表
E.rename中间表为原表
F.刷新数据字典，并释放锁
项目会因为不断的引入新的业务而必须增加和修改字段。最近的业务要加13个字段。
实名制的人工审核数据库有8个G的数据，有31*5*13（省份数*月份数*添加字段个数）
不要使用下面的增加字段的语句
	alter table 表名 add column 字段1 字段1的类型 comment '字段1的注记信息';
	alter table 表名 add column 字段2 字段2的类型 comment '字段2的注记信息';
较快的语句
	alter table 表名 add column 字段1 字段1的类型 comment '字段1的注记信息',add column 字段2 字段2的类型 comment '字段2的注记信息';
原理就是一次将表结构修改完成。